{% extends "layout/base.html" %}

{% block title %}HIREUP{% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}<style>
label{
  width:15%;
  color:#E20074;
}
#updatestage label{
  width:80% !important;
}
</style>{% endblock stylesheets %}

{% block body_class %} landing-page {% endblock body_class %}

{% block content %}

<main style="padding-top:130px;">
<input type="hidden" id="user" value="{{user}}">
<div class="info" style="width:100vw; overflow:scroll;">
      <table id="activetable" class="roles" style="font-size:11px;table-layout:inherit;">
      <tr style="position:sticky; top:0px; z-index:1px;">
      <th style="padding:0 !important; width:28px !important;"></th>
      <th>TSIN ID</th>
      <th>Snow ID</th>
      <th>Role</th>
      <th>Chapter</th>
      <th>Squad</th>
      <th>Demand Type</th>
      <th>Tribe</th>
      <th>Profile Upload</th>
      <th>Resume Screening</th>
      <th>L1 Interview</th>
      <th>L2 Interview</th>
      <th>L3 Interview</th>
      <th>Offer Rollout</th>
      <th>Buddy Assignment</th>
      <th>Candidate Joining</th>
      <th>Resume Rejected</th>
       {% if user == 'pmo' or user == 'admin' %}<th style="width:154px;">Actions</th>{% endif %}
      </tr>
      {% for i in roles %}
      {% if i.status=="active" %}
        <tr>
          {% if final_colors[i.tsin_id]=="green" %}
          <td style="background-color:#1DF516;padding:0 !important;"><svg style="width:18px;" class="accordion eye" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
          {% elif final_colors[i.tsin_id] == "yellow" %}
          <td style="background-color:#F5B216;padding:0 !important;"><svg style="width:18px;" class="accordion eye" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
          {% elif final_colors[i.tsin_id] == "red" %}
          <td style="background-color:#FF2F00;padding:0 !important;"><svg  style="width:18px;" class="accordion eye" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
          {% else %}
            <td style="background-color:#E6EDE9;padding:0 !important;"><svg  style="width:18px;" class="accordion eye2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
       {% endif %}
          <td>{{i.tsin_id}}</td>
          <td>{{i.snow_id}}</td>
          <td>{{i.role}}</td>
          <td>{{i.chapter}}</td>
          <td>{{i.squad}}</td>
          <td>{{i.demand_type}}</td>
          <td>{{i.tribe}}</td>
          <td>{{nums[i.tsin_id]['stage9']}}</td>
          <td>{{nums[i.tsin_id]['stage1']}}</td>
          <td>{{nums[i.tsin_id]['stage2']}}</td>
          <td>{{nums[i.tsin_id]['stage3']}}</td>
          <td>{{nums[i.tsin_id]['stage4']}}</td>
          <td>{{nums[i.tsin_id]['stage5']}}</td>
          <td>{{nums[i.tsin_id]['stage6']}}</td>
          <td>{{nums[i.tsin_id]['stage7']}}</td>
          <td>{{nums[i.tsin_id]['stage8']}}</td>
           <td>{% if user=='tac' %}<svg class="accordion addp"  style="width:18px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg>
        {% elif user == 'pmo' %}&nbsp;<a href="/delete-role/{{i.tsin_id}}"><svg style="width:16px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"/></svg></a>
        &nbsp;{% if nums[i.tsin_id]['stage9']+nums[i.tsin_id]['stage1']+nums[i.tsin_id]['stage2']+nums[i.tsin_id]['stage3']+nums[i.tsin_id]['stage4']+nums[i.tsin_id]['stage5']+nums[i.tsin_id]['stage6']+nums[i.tsin_id]['stage7']+nums[i.tsin_id]['stage8']==0 %}<svg class="accordion edit" style="width:18px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/></svg>{% else %}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{% endif %}
        {% elif user=="admin" %}<svg class="accordion addp"  style="width:18px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg>
        &nbsp;<a href="/delete-role/{{i.tsin_id}}"><svg style="width:16px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"/></svg></a>
        &nbsp;{% if nums[i.tsin_id]['stage9']+nums[i.tsin_id]['stage1']+nums[i.tsin_id]['stage2']+nums[i.tsin_id]['stage3']+nums[i.tsin_id]['stage4']+nums[i.tsin_id]['stage5']+nums[i.tsin_id]['stage6']+nums[i.tsin_id]['stage7']+nums[i.tsin_id]['stage8']==0 %}<svg class="accordion edit" style="width:18px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/></svg>{% else %}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{% endif %}
        {% endif %}
        </td>
        </tr>
          
      
      <tr style="display:none;">
      <td colspan=18>
        <form class="form-container" id="newprofile" action = "add-new-profile" method = "POST" enctype = "multipart/form-data" style="width:600px; margin:0 auto;">
          <input type="hidden" value="{{i.tsin_id}}" id="tsin_id" name="tsin_id">
          <label for="name" style="width:200px; text-align:right;"><b>Name : </b></label>&nbsp;
          <input type="text" id="name" placeholder="Enter Candidate's Name" name="name" required style="width:370px; text-align:left;">

          <label for="email"style="width:200px; text-align:right;"><b>Email : </b></label>
          <input type="email" id="email" placeholder="Enter Candidate's Email ID" name="email" required style="width:370px; text-align:left;">

          <label for="PAN" style="width:200px; text-align:right;"><b>PAN Number : </b></label>
          <input type="text" id="pan" placeholder="Enter Candidate's PAN Number" name="pan" required style="width:370px; text-align:left;">

          <label for="phone" style="width:200px; text-align:right;"><b>Phone number : </b></label>
          <input type="text" id="phone" pattern="[789][0-9]{9}" placeholder="Enter Candidate's phone" name="phone" onchange="checkphone({{phones}}, this);" required style="width:370px; text-align:left;">

          <label for="company" style="width:200px; text-align:right;"><b>Current Company : </b></label>
          <input type="text" id="company" placeholder="Enter Candidate's current company" name="company" required style="width:370px; text-align:left;">

          <label for="experience" style="width:200px; text-align:right;"><b>Years of Experience : </b></label>
          <input type="text" id="experience" placeholder="Enter Candidate's experience (in years)" name="experience" required style="width:370px; text-align:left;">

          <label for="resume" style="width:200px; text-align:right;"><b>Current Location : </b></label>
          <input type="text" id="location" placeholder="Enter Candidate's current location" name="location" required style="width:370px; text-align:left;">

          <label for="resume" style="width:200px; text-align:right;"><b>Upload Resume : </b></label>
          <input type="file" id="resume" name="resume" accept=".pdf" style="text-align:center;border: 1px dashed #E20074; padding:10px;color:#E20074;"><br><br>

          <button type="submit" id="submit-resume" class="btn">Submit</button>
        </form>
        <form class="form-container" id="editrole" action = "edit-role" method = "POST" enctype = "multipart/form-data">
          <input type="hidden" value="{{i.tsin_id}}" id="tsin_id" name="tsin_id">
          <input type="hidden" value="onlyedit" id="editss" name="editss">
        <label for="snowid">Enter Snow ID: </label>
        <input type="text" id="snowid" name="snow_id" value="{{i.snow_id}}" style="width:270px;"><br><br>
        <label for="chapter"> Enter Chapter:<span style="color:red;">*</span></label>
        <select name="chapter" id="chapter"style="width:270px;" autocomplete="off">
        <option value="none">--None--</option>
          {% for k in chapters %}
          {% if i.chapter==k.chapter_name %}
            <option value="{{k.chapter_name}}" selected="selected">{{k.chapter_name}}</option>
          {% else %}
            <option value="{{k.chapter_name}}">{{k.chapter_name}}</option>
          {% endif %}
        {% endfor %}
        </select><br><br>
        <label for="role">Enter Role: <span style="color:red;">*</span></label>
        <select name="role" id="role"style="width:270px;"autocomplete="off">
        <option value="none">--None--</option>
          {% for k in roless %}
            {% if i.role==k.role_name %}
              <option value="{{k.role_name}}" selected="selected">{{k.role_name}}</option>
            {% else %}
              <option value="{{k.role_name}}">{{k.role_name}}</option>
            {% endif %}
          {% endfor %}
        </select><br><br>
        <label for="squad">Enter Squad: <span style="color:red;">*</span></label>
         <select name="squad" id="squad"style="width:270px;"autocomplete="off">
          <option value="none">--None--</option>
          {% for k in squads %}
            {% if i.squad==k.squad_name %}
              <option value="{{k.squad_name}}" selected="selected">{{k.squad_name}}</option>
            {% else %}
              <option value="{{k.squad_name}}">{{k.squad_name}}</option>
            {% endif %}
          {% endfor %}
        </select><br><br>
        <label for="demandtype">Enter Type of Demand: </label>
        <select name="demandtype" id="demandtype"style="width:270px;"autocomplete="off">
          <option value="none">--None--</option>
          {% if i.demand_type|lower =="backfill" %}
            <option value="Backfill"selected="selected">Backfill</option>
            <option value="New Demand">New Demand</option>
            <option value="Proactive">Proactive</option>
          {% elif i.demand_type|lower=="new demand" %}
            <option value="Backfill">Backfill</option>
            <option value="New Demand"selected="selected">New Demand</option>
            <option value="Proactive">Proactive</option>
          {% elif i.demand_type|lower=="proactive" %}
            <option value="Backfill">Backfill</option>
            <option value="New Demand">New Demand</option>
            <option value="Proactive"selected="selected">Proactive</option>
          {% else %}
            <option value="Backfill">Backfill</option>
            <option value="New Demand">New Demand</option>
            <option value="Proactive">Proactive</option>
          {% endif %}
        </select><br><br>
        <label for="tribe">Enter Tribe: </label>
        <select name="tribe" id="tribe"style="width:270px;"autocomplete="off">
           <option value="none">--None--</option>
          {% for k in tribes %}
            {% if i.tribe==k.tribe_name %}
              <option value="{{k.tribe_name}}"selected="selected">{{k.tribe_name}}</option>
            {% else %}
              <option value="{{k.tribe_name}}">{{k.tribe_name}}</option>
            {% endif %}
          {% endfor %}
        </select><br><br>
        <button type="submit" id="edit_tsin" class="new_tsin btn" style="margin-top:20px; font-weight:800;background-color:white;color:#E20074;border:1px solid #E20074;padding:10px;">Submit</button>
      </form>
        <table style="width:100%;">
        <tr colspan="">
        <th style="width:28px;"></th>
          <th>Name</th>
          <th>Current Stage</th>
          <th>Update Stage</th>
          <th>View Stage</th>
          {% if user=="pmo" or user == 'admin'%}<th>Actions</th>{% endif %}
        </tr>
      
          {% for j in candidates[i.tsin_id] %}
          <tr>
            {% if j['color'] == "gray" %}
            <td style="background-color:#E6EDE9;"><svg style="width:18px;" class="view-profile" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
            {% elif j['color'] == "green" %}
            <td style="background-color:#1DF516;"><svg style="width:18px;" class="view-profile" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
            {% elif j['color'] == "yellow" %}
            <td  style="background-color:#F5B216;"><svg style="width:18px;" class="view-profile" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
            {% elif j['color'] == "red" %}
            <td  style="background-color:#FF2F00;"><svg style="width:18px;" class="view-profile" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
            {% endif %}
            <td>{{j['candidate_name']}}</td>
            <td>{{j['current_stage']}}</td>
            <td>
            {% if j['status'] == "inactive" %}<a href="/activate-profile/{{j['id']}}"><button class="activate-btn2">Activate</button></a>
            {% else %}
            {% if user == "pmo" or user == 'admin'%}{% if j['current_stage'].strip() =='Profile Upload' %}<button class="stage-update" style="background-color:transparent;">Update Stage</button>{% else %}<button class="stage-update" style="background-color:transparent;" disabled>Update Stage</button>{% endif %}
            {% elif user == "interviewer" or user == 'admin' %}{% if j['current_stage'].strip() =='Resume Screened for Interview' or j['current_stage'].strip() =='L1 Interview Complete' or j['current_stage'].strip() =='L2 Interview Complete' %}<button class="stage-update" style="background-color:transparent;">Update Stage</button>{% else %}<button class="stage-update" style="background-color:transparent;" disabled>Update Stage</button>{% endif %}
            {% elif user == "hr" or user == 'admin' %}{% if j['current_stage'].strip() =='L3 Interview Complete' or j['current_stage'].strip() =='Offer RollOut' or j['current_stage'].strip() =='Buddy Assignment' %}<button class="stage-update" style="background-color:transparent;">Update Stage</button>{% else %}<button class="stage-update" style="background-color:transparent;" disabled>Update Stage</button>{% endif %}
            {% else %}<button class="stage-update" style="background-color:transparent;" disabled>Update Stage</button>{% endif %}
            {% endif %}
            </td>
            <td><button class="candidate-row" style="background-color:transparent;" >View Status</button></td>
            {% if user=="pmo"or user == 'admin' %}<td><a href="/delete-profile/{{j['id']}}"><svg style="width:16px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"/></svg></a>
        &nbsp;<svg class="resume-upload" style="width:18px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/></svg></a>
        </td>{% endif %}
          </tr>
          <tr class="panel" style="width:100%;">
            <td colspan=6 >
              <form class="form-container" id="profile" action = "upload-profile" method = "POST" enctype = "multipart/form-data" style="width:600px; margin:0 auto;">
                <input type="hidden" value="{{j['id']}}" id="candidate_id" name="candidate_id">
                <label for="phone" style="width:200px; text-align:right;"><b>Phone number</b></label>
                <input type="text" id="phone" pattern="[789][0-9]{9}" value="{{j['phone']}}" placeholder="Enter Candidate's phone" name="phone" required>

                <label for="company" style="width:200px; text-align:right;"><b>Current Company</b></label>
                <input type="text" id="company" placeholder="Enter Candidate's current company" value="{{j['current_company']}}"name="company" required>

                <label for="experience" style="width:200px; text-align:right;"><b>Years of Experience</b></label>
                <input type="text" id="experience" placeholder="Enter Candidate's experience (in years)" value="{{j['experience']}}" name="experience" required>

                <label for="resume" style="width:200px; text-align:right;"><b>Current Location</b></label>
                <input type="text" id="location" placeholder="Enter Candidate's current location" value="{{j['current_location']}}" name="location" required>

                <label for="resume" style="width:200px; text-align:right;"><b>Upload Resume</b></label>
                <input type="file" id="resume" name="resume" accept=".pdf" style="text-align:center;border: 1px dashed #E20074; padding:10px;color:#E20074;"><br><br>
 
                <button type="submit" id="submit-resume" class="btn">Submit</button>
              </form>
              <div>
                <div class="container">
                  <h4><b>{{j['candidate_name']}}</b></h4>
                  <p><b>Phone</b>: {{j['phone']}}</p>
                  <p><b>Current Company</b>: {{j['current_company']}}</p>
                  <p><b>Total Experience</b>: {{j['experience']}}</p>
                  <p><b>Current Location</b>: {{j['current_location']}}</p>
                  <button class="download_resume" name="{{j['id']}}">Download Resume</button>
                </div>
              </div>
            {% if j['current_stage'].strip() =='Profile Upload' %}
            <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>Profile Added on - {{j['request_raised_date']}}</b></li>
                    <li class="mno">Stage 2 - Resume Screened for Interview <br><b>Resume Screened on - {{j['resume_screened_date']}}</b></b>
                    <li class="mno">Stage 3 - L1 Interview in Process <br></li>
                    <li class="mno">Stage 4 - L2 Interview in Process<br>&nbsp;</li>
                    <li class="mno">Stage 5 - L3 Interview in Process <br>&nbsp;</li>
                    <li class="mno">Stage 6 - Offer RollOut  <br>&nbsp;</li>
                    <li class="mno">Stage 7 - Buddy Assignment <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut<br>&nbsp;</li>
                </ul>
            {% elif j['current_stage'].strip() =='Resume Screened for Interview' %}
            <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>Profile Added on - {{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b>Resume Screened on - {{j['resume_screened_date']}}</b></li>
                    <li class="mno">Stage 3 - L1 Interview in Process <br><b>In Process</b></li>
                    <li class="mno">Stage 4 - L2 Interview in Process<br>&nbsp;</li>
                    <li class="mno">Stage 5 - L3 Interview in Process <br>&nbsp;</li>
                    <li class="mno">Stage 6 - Offer RollOut  <br>&nbsp;</li>
                    <li class="mno">Stage 7 - Buddy Assignment <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut<br>&nbsp;</li>
                </ul>
            {% elif j['current_stage'].strip() == 'L1 Interview Complete' %}
                <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>Profile Added on - {{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b> Resume Screened on - {{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>L1 Interview Done on - {{j['l1_interview_date']}}</b></li>
                    <li class="mno">Stage 4 - L2 Interview in Process<br><b>In Process</b></li>
                    <li class="mno">Stage 5 - L3 Interview in Process  <br>&nbsp;</li>
                    <li class="mno">Stage 6 - Offer RollOut  <br>&nbsp;</li>
                    <li class="mno">Stage 7 - Buddy Assignment <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut<br>&nbsp;</li>
                </ul>
            {% elif j['current_stage'].strip() == 'L2 Interview Complete' %}
                <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>Profile Added on - {{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b> Resume Screened on - {{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>L1 Interview Done on - {{j['l1_interview_date']}}</b></li>
                    <li class="mno active">Stage 4 - L2 Interview in Process<br> <b>L2 Interview Done on - {{j['l2_interview_date']}}</b></li>
                    <li class="mno">Stage 5 - L3 Interview in Process <br><b>In Process</b></li>
                    <li class="mno">Stage 6 - Offer RollOut   <br>&nbsp;</li>
                    <li class="mno">Stage 7 - Buddy Assignment  <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut <br>&nbsp;</li>
                </ul>
            {% elif j['current_stage'].strip() == 'L3 Interview Complete' %}
            <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>Profile Added on - {{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b> Resume Screened on - {{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>L1 Interview Done on - {{j['l1_interview_date']}}</b></li>
                    <li class="mno active">Stage 4 - L2 Interview in Process<br> <b>L2 Interview Done on - {{j['l2_interview_date']}}</b></li>
                    <li class="mno active">Stage 5 - L3 Interview in Process <br><b>L3 Interview Done on - {{j['l3_interview_date']}}</b></li>
                    <li class="mno">Stage 6 - Offer RollOut  <br><b> In Process</b></li>
                    <li class="mno">Stage 7 - Buddy Assignment  <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut <br>&nbsp;</li>
            </ul>
            {% elif j['current_stage'].strip() == 'Offer RollOut' %}
            <ul class="progressbar">
                <li class="mno active">Stage 1 - Profile Added <br><b>Profile Added on - {{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b> Resume Screened on - {{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>L1 Interview Done on - {{j['l1_interview_date']}}</b></li>
                    <li class="mno active">Stage 4 - L2 Interview in Process<br> <b>L2 Interview Done on - {{j['l2_interview_date']}}</b></li>
                    <li class="mno active">Stage 5 - L3 Interview in Process <br><b>L3 Interview Done on - {{j['l3_interview_date']}}</b></li>
                    <li class="mno active">Stage 6 - Offer RollOut <br><b> Offer Rolled Out on - {{j['offer_rollout_date']}}</b> </li>
                <li class="mno">Stage 7 - Buddy Assignment <br><b> In Process</b></li>
                <li class="mno">Stage 8 - Candidate Joined / DropOut <br>&nbsp;</li>
            </ul>
            {% elif j['current_stage'].strip() == 'Buddy Assignment' %}
            <ul class="progressbar">
                <li class="mno active">Stage 1 - Profile Added <br><b>Profile Added on - {{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b> Resume Screened on - {{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>L1 Interview Done on - {{j['l1_interview_date']}}</b></li>
                    <li class="mno active">Stage 4 - L2 Interview in Process<br> <b>L2 Interview Done on - {{j['l2_interview_date']}}</b></li>
                    <li class="mno active">Stage 5 - L3 Interview in Process <br><b>L3 Interview Done on - {{j['l3_interview_date']}}</b></li>
                    <li class="mno active">Stage 6 - Offer RollOut <br><b> Offer Rolled Out on - {{j['offer_rollout_date']}}</b> </li>
                <li class="mno active">Stage 7 - Buddy Assignment <br><b>Buddy Assigned on - {{j['buddy_assignment_date']}}</b></li>
                <li class="mno">Stage 8 - Candidate Joined / DropOut<br> <b> In Process</b></li>
            </ul>
            {% elif j['current_stage'].strip() == 'Candidate Joined' or j['current_stage'].strip() == 'Candidate Dropout' %}
            <ul class="progressbar">
                <li class="mno active">Stage 1 - Profile Added <br><b>Profile Added on - {{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b> Resume Screened on - {{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>L1 Interview Done on - {{j['l1_interview_date']}}</b></li>
                    <li class="mno active">Stage 4 - L2 Interview in Process<br> <b>L2 Interview Done on - {{j['l2_interview_date']}}</b></li>
                    <li class="mno active">Stage 5 - L3 Interview in Process <br><b>L3 Interview Done on - {{j['l3_interview_date']}}</b></li>
                    <li class="mno active">Stage 6 - Offer RollOut <br><b> Offer Rolled Out on - {{j['offer_rollout_date']}}</b> </li>
                <li class="mno active">Stage 7 - Buddy Assignment <br><b>Buddy Assigned on - {{j['buddy_assignment_date']}}</b></li>
                {% if j['current_stage'].strip() == 'Candidate Dropout' %}
                <li class="mno active dropout">Stage 8 - Candidate Joined / DropOut<br><b>Candidate Joined on - {{j['candidate_joined_date']}}</b></li>
                {% elif j['current_stage'].strip() == 'Candidate Joined' %}
                <li class="mno active">Stage 8 - Candidate Joined / DropOut<br><b>Candidate Droped out on - {{j['candidate_dropout_date']}}</b></li>
                {% endif %}
            </ul>
            {% elif j['current_stage'].strip() == 'Resume Rejected' %}
            <ul class="progressbar">
                <li class="mno">Stage 1 - Profile Added </li>
                <li class="mno">Stage 2 - Resume Screened for Interview </li>
                <li class="mno">Stage 3 - L1 Interview in Process </li>
                <li class="mno">Stage 4 - L2 Interview in Process</li>
                <li class="mno">Stage 5 - L3 Interview in Process </li>
                <li class="mno">Stage 6 - Offer RollOut  </li>
                <li class="mno">Stage 7 - Buddy Assignment </li>
                <li class="mno">Stage 8 - Candidate Joined / DropOut</li>
            </ul>
            {% endif %}
        <div>
            <div class="container">
                  <form class="form-container" id="updatestage" action = "update-stage" method = "POST" enctype = "multipart/form-data" style="text-align:left;">
                <input type="hidden" value="{{j['id']}}" id="cid" name="candidate_id">
                <input type="hidden" id="date_of_event" name="datetime">
                
                {% if j['current_stage'].strip() =='Profile Upload' %}
                  <input type="hidden" name="stage" value="resumescreened">
                  <input type="checkbox" class="stageupdation" id="stage1" name="stage1">
                  <label for="stage1" style="width:80%;"> Complete Stage : Resume Screening</label><br>
                  <span class="update-time"></span>
                  <input class="stageupdatetime" name="stageupdatetime" type="hidden">
                  <label for="result" style="width:100%;"> Results of Resume Screening:</label><br>
                  <input type="radio" id="passed" name="result" value="passed"><label for="passed"> &nbsp;Passed</label><br>
                  <input type="radio" id="failed" name="result" value="failed"><label for="failed"> &nbsp;Failed</label><br>
                  <label for="resume_remarks"> Remarks/Comments:</label><br>
                  <textarea id="resume_remarks" name="resume_remarks" rows="4" cols="30"></textarea><br>
                  <button type="submit" id="stage-update" class="btn">Submit</button>
                {% elif j['current_stage'].strip() =='Resume Screened for Interview' %}
                  <input type="hidden" name="stage" value="l1complete">
                  <input type="checkbox" class="stageupdation" id="stage1" name="stage1">
                  <label for="stage1"> Complete Stage : L1 Interview</label><br>
                  <span class="update-time"></span>
                  <input class="stageupdatetime" name="stageupdatetime" type="hidden">
                  <label for="result"> Results of L1 Interview:</label><br>
                  <input type="radio" id="passed" name="result" value="passed"><label for="passed"> &nbsp;Passed</label><br>
                  <input type="radio" id="failed" name="result" value="failed"><label for="failed"> &nbsp;Failed</label><br>
                  <label for="l1_remarks"> Remarks/Comments:</label><br>
                  <textarea id="l1_remarks" name="l1_remarks" rows="4" cols="30"></textarea><br>
                  <label for="l2_interviewer"> L2 Interviewer Name</label>
                  <input type="text" id="l2_interviewer_name" name="l2_interviewer_name" style="width:270px;"><br>
                  <label for="l2_interview_date"> L2 Interview Date</label>
                  <input type="date" id="l2_interview_date" name="l2_interview_date" style="width:270px;"><br><br>
                <button type="submit" id="stage-update" class="btn">Submit</button>

                {% elif j['current_stage'].strip() == 'L1 Interview Complete' %}
                  <input type="hidden" name="stage" value="l2complete">
                <input type="checkbox" class="stageupdation" id="stage2" name="stage2">
                  <label for="stage2"> Complete Stage : L2 Interview</label><br>
                  <span class="update-time"></span>
                  <input class="stageupdatetime" name="stageupdatetime" type="hidden">
                  <label for="result"> Results of L2 Interview:</label><br>
                  <input type="radio" id="passed" name="result" value="passed"><label for="passed"> &nbsp;Passed</label><br>
                  <input type="radio" id="failed" name="result" value="failed"><label for="failed"> &nbsp;Failed</label><br>
                  <label for="l2_remarks"> Remarks/Comments:</label><br>
                  <textarea id="l2_remarks" name="l2_remarks" rows="4" cols="30"></textarea><br>
                  <label for="l3_interviewer"> L3 Interviewer Name</label>
                  <input type="text" id="l3_interviewer_name" name="l3_interviewer_name" style="width:270px;"><br>
                  <label for="l3_interviewer"> L3 Interview Date</label>
                  <input type="date" id="l3_interview_date" name="l3_interview_date" style="width:270px;"><br><br>
                <button type="submit" id="stage-update" class="btn">Submit</button>

                {% elif j['current_stage'].strip() == 'L2 Interview Complete' %}
                  <input type="hidden" name="stage" value="l3complete">
                <input type="checkbox" class="stageupdation" id="stage1" name="stage1">
                  <label for="stage1"> Complete Stage : L3 Interview</label><br>
                  <span class="update-time"></span>
                  <input class="stageupdatetime" name="stageupdatetime" type="hidden">
                  <label for="remarks"> Results of L3 Interview:</label><br>
                  <input type="radio" id="passed" name="result" value="passed"><label for="passed"> &nbsp;Passed</label><br>
                  <input type="radio" id="failed" name="result" value="failed"><label for="failed"> &nbsp;Failed</label><br>
                  <label for="l3_remarks"> Remarks/Comments:</label><br>
                  <textarea id="l3_remarks" name="l3_remarks" rows="4" cols="30"></textarea><br><br>
                <button type="submit" id="stage-update" class="btn">Submit</button
                >
                {% elif j['current_stage'].strip() == 'L3 Interview Complete' %}
                  <input type="hidden" name="stage" value="offer">
                  <input type="checkbox" class="stageupdation" id="stage1" name="stage1">
                  <label for="stage1"> Complete Stage : Offer RollOut</label><br>
                  <span class="update-time"></span>
                  <input class="stageupdatetime" name="stageupdatetime" type="hidden">
                  <label for="li_interviewer"> Joining Date</label>
                  <input type="date" id="joining_date" name="joining_date" style="width:270px;"><br><br>
                <button type="submit" id="stage-update" class="btn">Submit</button>

                {% elif j['current_stage'].strip() == 'Offer RollOut' %}
                  <input type="hidden" name="stage" value="buddy">
                <input type="checkbox" class="stageupdation" id="stage1" name="stage1">
                  <label for="stage1"> Complete Stage : Buddy Assignment</label><br>
                  <span class="update-time"></span>
                  <input class="stageupdatetime" name="stageupdatetime" type="hidden"> 
                  <label for="buddy_name"> Buddy Name</label>
                  <input type="text" id="buddy_name" name="buddy_name" style="width:270px;"><br><br>
                <button type="submit" id="stage-update" class="btn">Submit</button>

                {% elif j['current_stage'].strip() == 'Buddy Assignment' %}
                  <input type="hidden" name="stage" value="finalcandidate">
                <input type="checkbox" class="stageupdation" id="stage1" name="stage1">
                  <label for="stage1"> Complete Stage : Candidate Joined</label><br>
                  <span class="update-time"></span>
                  <input class="stageupdatetime" name="joiningstageupdatetime" type="hidden">
                  <input type="checkbox" class="stageupdation" id="stage1" name="stage1">
                  <label for="stage1"> Complete Stage : Candidate Dropout</label><br>
                  <span class="update-time"></span>
                  <input class="stageupdatetime" name="dropoutstageupdatetime" type="hidden"> 
                  <label for="dropout_reason"> Dropout Reason</label>
                  <input type="text" id="dropout_reason" name="dropout_reason" style="width:270px;"><br><br>
                <button type="submit" id="stage-update" class="btn">Submit</button>

                {% elif j['current_stage'].strip() == 'Candidate Joined' or j['current_stage'].strip() == 'Candidate Dropout' %}
                  {% if j['current_stage'].strip() == 'Candidate Joined'%}
                    Candidate has joined 
                  {% elif j['current_stage'].strip() == 'Candidate Dropout' %}
                    Candidate has Dropped out due to {{j['candidate_dropout_reason']}}
                  {% endif %}
                {% elif j['current_stage'].strip() == 'Resume Rejected ' %}
                Candidate's Resume has been rejected
                {% endif %}
                
              </form>
            </div>
            </div>
        
            </td>
          </tr>
          {% endfor %}
          </table>
      </td>
      </tr>
      <tr class="panel" style="width:100%;">
        <td colspan=8 >
        {% if i[5] =='Resume Screened for Interview ' %}
        <ul class="progressbar">
                <li class="mno active">Stage 1 - Resume Screened for Interview </li>
                <li class="mno">Stage 2 - L1 Interview in Process </li>
                <li class="mno">Stage 3 - L2 Interview in Process</li>
                <li class="mno">Stage 4 - L3 Interview in Process </li>
                <li class="mno">Stage 5 - Offer RollOut  </li>
                <li class="mno">Stage 6 - Buddy Assignment </li>
                <li class="mno">Stage 7 - Candidate Joined / DropOut</li>
            </ul>
        {% elif i[5] == 'L1 Interview Complete ' %}
            <ul class="progressbar">
                <li class="mno active">Stage 1 - Resume Screened for Interview </li>
                <li class="mno active">Stage 2 - L1 Interview in Process </li>
                <li class="mno">Stage 3 - L2 Interview in Process</li>
                <li class="mno">Stage 4 - L3 Interview in Process </li>
                <li class="mno">Stage 5 - Offer RollOut  </li>
                <li class="mno">Stage 6 - Buddy Assignment </li>
                <li class="mno">Stage 7 - Candidate Joined / DropOut</li>
            </ul>
        {% elif i[5] == 'L2 Interview Complete ' %}
            <ul class="progressbar">
                <li class="mno active">Stage 1 - Resume Screened for Interview </li>
                <li class="mno active">Stage 2 - L1 Interview in Process </li>
                <li class="mno active">Stage 3 - L2 Interview in Process</li>
                <li class="mno">Stage 4 - L3 Interview in Process </li>
                <li class="mno">Stage 5 - Offer RollOut  </li>
                <li class="mno">Stage 6 - Buddy Assignment </li>
                <li class="mno">Stage 7 - Candidate Joined / DropOut</li>
            </ul>
        {% elif i[5] == 'L3 Interview Complete' %}
        <ul class="progressbar">
            <li class="mno active">Stage 1 - Resume Screened for Interview </li>
            <li class="mno active">Stage 2 - L1 Interview in Process </li>
            <li class="mno active">Stage 3 - L2 Interview in Process</li>
            <li class="mno active">Stage 4 - L3 Interview in Process </li>
            <li class="mno">Stage 5 - Offer RollOut  </li>
            <li class="mno">Stage 6 - Buddy Assignment </li>
            <li class="mno">Stage 7 - Candidate Joined / DropOut</li>
        </ul>
        {% elif i[5] == 'Offer RollOut ' %}
        <ul class="progressbar">
            <li class="mno active">Stage 1 - Resume Screened for Interview </li>
            <li class="mno active">Stage 2 - L1 Interview in Process </li>
            <li class="mno active">Stage 3 - L2 Interview in Process</li>
            <li class="mno active">Stage 4 - L3 Interview in Process </li>
            <li class="mno active">Stage 5 - Offer RollOut  </li>
            <li class="mno">Stage 6 - Buddy Assignment </li>
            <li class="mno">Stage 7 - Candidate Joined / DropOut</li>
        </ul>
        {% elif i[5] == 'Buddy Assignment ' %}
        <ul class="progressbar">
            <li class="mno active">Stage 1 - Resume Screened for Interview </li>
            <li class="mno active">Stage 2 - L1 Interview in Process </li>
            <li class="mno active">Stage 3 - L2 Interview in Process</li>
            <li class="mno active">Stage 4 - L3 Interview in Process </li>
            <li class="mno active">Stage 5 - Offer RollOut  </li>
            <li class="mno active">Stage 6 - Buddy Assignment </li>
            <li class="mno">Stage 7 - Candidate Joined / DropOut</li>
        </ul>
        {% elif i[5] == 'Candidate Joined' or i[5] == 'Candidate Dropout' %}
        <ul class="progressbar">
            <li class="mno active">Stage 1 - Resume Screened for Interview </li>
            <li class="mno active">Stage 2 - L1 Interview in Process </li>
            <li class="mno active">Stage 3 - L2 Interview in Process</li>
            <li class="mno active">Stage 4 - L3 Interview in Process </li>
            <li class="mno active">Stage 5 - Offer RollOut  </li>
            <li class="mno active">Stage 6 - Buddy Assignment </li>
            {% if i[5] == 'Candidate Dropout' %}
            <li class="mno active dropout">Stage 7 - Candidate Joined / DropOut</li>
            {% elif i[5] == 'Candidate Joined' %}
            <li class="mno active">Stage 7 - Candidate Joined / DropOut</li>
            {% endif %}
        </ul>
        {% elif i[5] == 'Resume Rejected ' %}
        <ul class="progressbar">
            <li class="mno">Stage 1 - Resume Screened for Interview </li>
            <li class="mno">Stage 2 - L1 Interview in Process </li>
            <li class="mno">Stage 3 - L2 Interview in Process</li>
            <li class="mno">Stage 4 - L3 Interview in Process </li>
            <li class="mno">Stage 5 - Offer RollOut  </li>
            <li class="mno">Stage 6 - Buddy Assignment </li>
            <li class="mno">Stage 7 - Candidate Joined / DropOut</li>
        </ul>
        {% endif %}
        </td>
      </tr>
    <!--<tr>
      <ul class="progressbar">
        <li class="active">Step 1</li>
        <li>Step 2</li>
        <li>Step 3</li>
      </ul></tr>-->
      
          {% endif %}
      {% endfor %}
      </table>
      <table id="inactivetable" class="roles inactive" style="font-size:11px; display:none;">
        <tr style="position:sticky; top:0px; z-index:1px;">
        <th style="width:28px;"></th>
        <th>TSIN ID</th>
        <th>Snow ID</th>
        <th>Role</th>
        <th>Chapter</th>
        <th>Squad</th>
        <th>Demand Type</th>
        <th>Tribe</th>
        <th>Profile Upload</th>
        <th>Resume Screening</th>
        <th>L1 Interview</th>
        <th>L2 Interview</th>
        <th>L3 Interview</th>
        <th>Offer Rollout</th>
        <th>Buddy Assignment</th>
        <th>Candidate Joining</th>
        <th>Resume Rejected</th>
        {% if user=="pmo"or user == 'admin' %}<th style="width:154px;">Activate</th>{% endif %}
        </tr>
        {% for i in roles %}
        {% if i.status=="inactive" %}
        <tr id="fixed-inactive">
        {% if final_colors[i.tsin_id]=="green" %}
          <td style="background-color:#1DF516;padding:0 !important;"><svg style="width:18px;" class="accordion eye2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
          {% elif final_colors[i.tsin_id] == "yellow" %}
          <td style="background-color:#F5B216;padding:0 !important;"><svg style="width:18px;" class="accordion eye2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
          {% elif final_colors[i.tsin_id] == "red" %}
          <td style="background-color:#FF2F00;padding:0 !important;"><svg  style="width:18px;" class="accordion eye2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
          {% else %}
          <td style="background-color:#E6EDE9;padding:0 !important;"><svg  style="width:18px;" class="accordion eye2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
        {% endif %}
          <td>{{i.tsin_id}}</td>
          <td>{{i.snow_id}}</td>
          <td>{{i.role}}</td>
          <td>{{i.chapter}}</td>
          <td>{{i.squad}}</td>
          <td>{{i.demand_type}}</td>
          <td>{{i.tribe}}</td>
          <td>{{nums[i.tsin_id]['stage9']}}</td>
          <td>{{nums[i.tsin_id]['stage1']}}</td>
          <td>{{nums[i.tsin_id]['stage2']}}</td>
          <td>{{nums[i.tsin_id]['stage3']}}</td>
          <td>{{nums[i.tsin_id]['stage4']}}</td>
          <td>{{nums[i.tsin_id]['stage5']}}</td>
          <td>{{nums[i.tsin_id]['stage6']}}</td>
          <td>{{nums[i.tsin_id]['stage7']}}</td>
          <td>{{nums[i.tsin_id]['stage8']}}</td>
          {% if user=="pmo"or user == 'admin' %}<td><button class="edit-activate-btn">Activate</button></td>{% endif %}
        </tr>
        <tr id="input-inactive" style="display:none;">
        {% if final_colors[i.tsin_id]=="green" %}
          <td style="background-color:#1DF516;padding:0 !important;"><svg style="width:18px;" class="accordion eye2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
          {% elif final_colors[i.tsin_id] == "yellow" %}
          <td style="background-color:#F5B216;padding:0 !important;"><svg style="width:18px;" class="accordion eye2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
          {% elif final_colors[i.tsin_id] == "red" %}
          <td style="background-color:#FF2F00;padding:0 !important;"><svg  style="width:18px;" class="accordion eye2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
          {% else %}
          <td style="background-color:#E6EDE9;padding:0 !important;"><svg  style="width:18px;" class="accordion eye2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
        {% endif %}
          <td><input type="hidden" id="tsinids" value="{{i.tsin_id}}">{{i.tsin_id}}</td>
          <td><input id="snow_id" type="text" style="width:75px;" value={{i.snow_id}}></td>
          <td><select name="role" id="roles" class="role"style="font-size:12px;"autocomplete="off" >
          <option value="none">--None--</option>
          {% for k in roless %}
            {% if i.role==k.role_name %}
              <option value="{{k.role_name}}" selected="selected">{{k.role_name}}</option>
            {% else %}
              <option value="{{k.role_name}}">{{k.role_name}}</option>
            {% endif %}
          {% endfor %}
          </select></td>
          <td><select name="chapter" id="chapters" class="chapter"style=" font-size:12px;"autocomplete="off">
          <option value="none">--None--</option>
        {% for k in chapters %}
          {% if i.chapter==k.chapter_name %}
            <option value="{{k.chapter_name}}" selected="selected">{{k.chapter_name}}</option>
          {% else %}
            <option value="{{k.chapter_name}}">{{k.chapter_name}}</option>
          {% endif %}
        {% endfor %}
        </select></td>
          <td><select name="squad" id="squads" class="squad"style="font-size:12px;"autocomplete="off">
          <option value="none">--None--</option>
          {% for k in squads %}
            {% if i.squad==k.squad_name %}
              <option value="{{k.squad_name}}" selected="selected">{{k.squad_name}}</option>
            {% else %}
              <option value="{{k.squad_name}}">{{k.squad_name}}</option>
            {% endif %}
          {% endfor %}
          </select></td>
          <td><select name="demandtype" id="demandtypes" class="demandtype"style="font-size:12px; margin-top:0 !important;"autocomplete="off">
          <option value="none">--None--</option>
          {% if i.demand_type|lower =="backfill" %}
            <option value="Backfill"selected="selected">Backfill</option>
            <option value="New Demand">New Demand</option>
            <option value="Proactive">Proactive</option>
          {% elif i.demand_type|lower=="new demand" %}
            <option value="Backfill">Backfill</option>
            <option value="New Demand"selected="selected">New Demand</option>
            <option value="Proactive">Proactive</option>
          {% elif i.demand_type|lower=="proactive" %}
            <option value="Backfill">Backfill</option>
            <option value="New Demand">New Demand</option>
            <option value="Proactive"selected="selected">Proactive</option>
          {% else %}
            <option value="Backfill">Backfill</option>
            <option value="New Demand">New Demand</option>
            <option value="Proactive">Proactive</option>
          {% endif %}
        </select></td>
          <td><select name="tribe" id="tribes" class="tribe"style="font-size:12px;"autocomplete="off">
          <option value="none">--None--</option>
          {% for k in tribes %}
            {% if i.tribe==k.tribe_name %}
              <option value="{{k.tribe_name}}"selected="selected">{{k.tribe_name}}</option>
            {% else %}
              <option value="{{k.tribe_name}}">{{k.tribe_name}}</option>
            {% endif %}
          {% endfor %}
        </select></td>
          <td>{{nums[i.tsin_id]['stage9']}}</td>
          <td>{{nums[i.tsin_id]['stage1']}}</td>
          <td>{{nums[i.tsin_id]['stage2']}}</td>
          <td>{{nums[i.tsin_id]['stage3']}}</td>
          <td>{{nums[i.tsin_id]['stage4']}}</td>
          <td>{{nums[i.tsin_id]['stage5']}}</td>
          <td>{{nums[i.tsin_id]['stage6']}}</td>
          <td>{{nums[i.tsin_id]['stage7']}}</td>
          <td>{{nums[i.tsin_id]['stage8']}}</td>
          <td><button id="edit-activate">Confirm</button></td>
        </tr>
        <tr style="display:none;">
        <td colspan="18">
            <table style="width:100%;">
            <tr>
              <th style="width:28px;"></th>
              <th>Name</th>
              <th>Current Stage</th>
              <th>View Stage</th>
            </tr>
          
              {% for j in candidates[i.tsin_id] %}
              <tr>
              {% if j['color'] == "gray" %}
                <td style="background-color:#E6EDE9;"><svg style="width:18px;" class="view-profile2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
                {% elif j['color'] == "green" %}
                <td style="background-color:#1DF516;"><svg style="width:18px;" class="view-profile2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
                {% elif j['color'] == "yellow" %}
                <td  style="background-color:#F5B216;"><svg style="width:18px;" class="view-profile2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
                {% elif j['color'] == "red" %}
                <td  style="background-color:#FF2F00;"><svg style="width:18px;" class="view-profile2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg></td>
                {% endif %}
                <td>{{j['candidate_name']}}</td>
                <td>{{j['current_stage']}}</td>
                <td><button class="candidate-row2" style="background-color:transparent;" >View Status</button></td>
                
            </tr>
            <tr class="panel" style="width:100%;">
              <td colspan=4 >
              <div>
                <div class="container">
                  <h4><b>{{j['candidate_name']}}</b></h4>
                  <p><b>Phone</b>: {{j['phone']}}</p>
                  <p><b>Current Company</b>: {{j['current_company']}}</p>
                  <p><b>Total Experience</b>: {{j['experience']}}</p>
                  <p><b>Current Location</b>: {{j['current_location']}}</p>
                  <button class="download_resume" name="{{j['id']}}">Download Resume</button>
                </div>
              </div>
              {% if j['current_stage'].strip() =='Profile Upload' %}
            <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>{{j['request_raised_date']}}</b></li>
                    <li class="mno">Stage 2 - Resume Screened for Interview <br><b>{{j['resume_screened_date']}}</b></b>
                    <li class="mno">Stage 3 - L1 Interview in Process <br></li>
                    <li class="mno">Stage 4 - L2 Interview in Process<br>&nbsp;</li>
                    <li class="mno">Stage 5 - L3 Interview in Process <br>&nbsp;</li>
                    <li class="mno">Stage 6 - Offer RollOut  <br>&nbsp;</li>
                    <li class="mno">Stage 7 - Buddy Assignment <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut<br>&nbsp;</li>
                </ul>
            {% elif j['current_stage'].strip() =='Resume Screened for Interview' %}
            <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>{{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b>{{j['resume_screened_date']}}</b></li>
                    <li class="mno">Stage 3 - L1 Interview in Process <br><b>In Process</b></li>
                    <li class="mno">Stage 4 - L2 Interview in Process<br>&nbsp;</li>
                    <li class="mno">Stage 5 - L3 Interview in Process <br>&nbsp;</li>
                    <li class="mno">Stage 6 - Offer RollOut  <br>&nbsp;</li>
                    <li class="mno">Stage 7 - Buddy Assignment <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut<br>&nbsp;</li>
                </ul>
            {% elif j['current_stage'].strip() == 'L1 Interview Complete' %}
                <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>{{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b>{{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>{{j['l1_interview_date']}}</b></li>
                    <li class="mno">Stage 4 - L2 Interview in Process<br><b>In Process</b></li>
                    <li class="mno">Stage 5 - L3 Interview in Process  <br>&nbsp;</li>
                    <li class="mno">Stage 6 - Offer RollOut  <br>&nbsp;</li>
                    <li class="mno">Stage 7 - Buddy Assignment <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut<br>&nbsp;</li>
                </ul>
            {% elif j['current_stage'].strip() == 'L2 Interview Complete' %}
                <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>{{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b>{{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>{{j['l1_interview_date']}}</b></li>
                    <li class="mno active">Stage 4 - L2 Interview in Process<br> <b>{{j['l2_interview_date']}}</b></li>
                    <li class="mno">Stage 5 - L3 Interview in Process <br><b>In Process</b></li>
                    <li class="mno">Stage 6 - Offer RollOut   <br>&nbsp;</li>
                    <li class="mno">Stage 7 - Buddy Assignment  <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut <br>&nbsp;</li>
                </ul>
            {% elif j['current_stage'].strip() == 'L3 Interview Complete' %}
            <ul class="progressbar">
                    <li class="mno active">Stage 1 - Profile Added <br><b>{{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br><b>{{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>{{j['l1_interview_date']}}</b></li>
                    <li class="mno active">Stage 4 - L2 Interview in Process<br><b>{{j['l2_interview_date']}}</b></li>
                    <li class="mno active">Stage 5 - L3 Interview in Process <br><b>{{j['l3_interview_date']}}</b></li>
                    <li class="mno">Stage 6 - Offer RollOut  <br><b> In Process</b></li>
                    <li class="mno">Stage 7 - Buddy Assignment  <br>&nbsp;</li>
                    <li class="mno">Stage 8 - Candidate Joined / DropOut <br>&nbsp;</li>
            </ul>
            {% elif j['current_stage'].strip() == 'Offer RollOut' %}
            <ul class="progressbar">
                <li class="mno active">Stage 1 - Profile Added <br><b>{{j['request_raised_date']}}</b></li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br> <b>{{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>{{j['l1_interview_date']}}</b></li>
                    <li class="mno active">Stage 4 - L2 Interview in Process<br> <b>{{j['l2_interview_date']}}</b></li>
                    <li class="mno active">Stage 5 - L3 Interview in Process <br><b>{{j['l3_interview_date']}}</b></li>
                    <li class="mno active">Stage 6 - Offer RollOut <br><b> {{j['offer_rollout_date']}}</b> </li>
                <li class="mno">Stage 7 - Buddy Assignment <br><b> In Process</b></li>
                <li class="mno">Stage 8 - Candidate Joined / DropOut <br>&nbsp;</li>
            </ul>
            {% elif j['current_stage'].strip() == 'Buddy Assignment' %}
            <ul class="progressbar">
                <li class="mno active">Stage 1 - Profile Added <br><b>{{j['request_raised_date']}}</b> </li>
                    <li class="mno active">Stage 2 - Resume Screened for Interview <br> <b>{{j['resume_screened_date']}}</b></li>
                    <li class="mno active">Stage 3 - L1 Interview in Process <br><b>{{j['l1_interview_date']}}</b></li>
                    <li class="mno active">Stage 4 - L2 Interview in Process<br> <b>{{j['l2_interview_date']}}</b></li>
                    <li class="mno active">Stage 5 - L3 Interview in Process <br><b>{{j['l3_interview_date']}}</b></li>
                    <li class="mno active">Stage 6 - Offer RollOut <br><b> {{j['offer_rollout_date']}}</b> </li>
                <li class="mno active">Stage 7 - Buddy Assignment <br><b> {{j['buddy_assignment_date']}}</b></li>
                <li class="mno">Stage 8 - Candidate Joined / DropOut<br> <b> In Process</b></li>
            </ul>
            {% elif j['current_stage'].strip() == 'Candidate Joined' or j['current_stage'].strip() == 'Candidate Dropout' %}
            <ul class="progressbar">
                <li class="mno active">Stage 1 - Profile Added <br><b>{{j['request_raised_date']}}</b></li>
                <li class="mno active">Stage 2 - Resume Screened for Interview <br><b>{{j['resume_screened_date']}}</b></li>
                <li class="mno active">Stage 3 - L1 Interview in Process <br><b>{{j['l1_interview_date']}}</b></li>
                <li class="mno active">Stage 4 - L2 Interview in Process<br> <b>{{j['l2_interview_date']}}</b></li>
                <li class="mno active">Stage 5 - L3 Interview in Process <br><b>{{j['l3_interview_date']}}</b></li>
                <li class="mno active">Stage 6 - Offer RollOut <br><b> {{j['offer_rollout_date']}}</b> </li>
                <li class="mno active">Stage 7 - Buddy Assignment <br><b> {{j['buddy_assignment_date']}}</b></li>
                {% if j['current_stage'].strip() == 'Candidate Dropout' %}
                <li class="mno active dropout">Stage 8 - Candidate Joined / DropOut</li>
                {% elif j['current_stage'].strip() == 'Candidate Joined' %}
                <li class="mno active">Stage 8 - Candidate Joined / DropOut</li>
                {% endif %}
            </ul>
            {% elif j['current_stage'].strip() == 'Resume Rejected' %}
            <ul class="progressbar">
                <li class="mno">Stage 1 - Profile Added </li>
                <li class="mno">Stage 2 - Resume Screened for Interview </li>
                <li class="mno">Stage 3 - L1 Interview in Process </li>
                <li class="mno">Stage 4 - L2 Interview in Process</li>
                <li class="mno">Stage 5 - L3 Interview in Process </li>
                <li class="mno">Stage 6 - Offer RollOut  </li>
                <li class="mno">Stage 7 - Buddy Assignment </li>
                <li class="mno">Stage 8 - Candidate Joined / DropOut</li>
            </ul>
            {% endif %}
              </td>
            </tr>
              {% endfor %}
            </table>
          </td>
        </tr>
        {% endif %}
        {% endfor %}
      </table>
    </div>

</main>
<script>
var acc = document.getElementsByClassName("eye");
var inacacc = document.getElementsByClassName("eye2");
var edit= document.getElementsByClassName("edit");
var acc2= document.getElementsByClassName("candidate-row");
var acc3= document.getElementsByClassName("candidate-row2");
var btn=document.getElementsByClassName("view-profile");
var btn2=document.getElementsByClassName("view-profile2");
var profile=document.getElementsByClassName("resume-upload");
var stage=document.getElementsByClassName("stage-update");
var updateEvent=document.getElementsByClassName("stageupdation");
var addp=document.getElementsByClassName("addp");
var editacti=document.getElementsByClassName("edit-activate-btn");
var i;
for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");
    var panel = this.parentNode.parentNode.nextElementSibling;
    var panel2=panel.childNodes[1].childNodes[1];
    var panel3=panel.childNodes[1].childNodes[3];
    var panel4=panel.childNodes[1].childNodes[5];
    if (panel.style.display != "none"){
        console.log(panel2, panel3, panel4);
      if (panel2.style.display !="none" || panel3.style.display != "none"){
        console.log('entered1');
        panel2.style.display="none";
        panel3.style.display="none";
        panel4.style.display="table";
      }
      else{
        console.log('entered2');
        panel.style.display = "none";
      }
    }
    else{
      console.log(',,,,,,,,,,,,,,');
      console.log(panel2, panel3, panel4);
      panel.style.display="table-row";
      panel3.style.display="none";
      panel2.style.display="none";
      panel4.style.display="table";
    }
    });
    /* Toggle between hiding and showing the active panel */
    
     /*{
      panel.style.display = "none";
    } else {
      panel.style.display = "table-row";
    }*/
    }
for (i = 0; i < editacti.length; i++) {
  editacti[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");
    var panel2=this.parentNode.parentNode
    var panel = this.parentNode.parentNode.nextElementSibling;
    if (panel.style.display != "none"){
        panel.style.display = "none";
        panel2.style.display="table-row";
    }
    else{
      panel.style.display="table-row";
      panel2.style.display="none";
    }
    });
    /* Toggle between hiding and showing the active panel */
    
     /*{
      panel.style.display = "none";
    } else {
      panel.style.display = "table-row";
    }*/
    }
  
for (i = 0; i < inacacc.length; i++) {
  inacacc[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");
    var panel = this.parentNode.parentNode.nextElementSibling.nextElementSibling;
    console.log(panel);
    if (panel.style.display != "none"){
        panel.style.display = "none";
    }
    else{
      panel.style.display="table-row";
    }
    });
    /* Toggle between hiding and showing the active panel */
    
     /*{
      panel.style.display = "none";
    } else {
      panel.style.display = "table-row";
    }*/
    }
  
for (i = 0; i < edit.length; i++) {
  edit[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");
    var panel = this.parentNode.parentNode.nextElementSibling;
    var panel2=panel.childNodes[1].childNodes[1];
    var panel3=panel.childNodes[1].childNodes[3];
    var panel4=panel.childNodes[1].childNodes[5];
    if (panel.style.display === "table-row"){
        console.log(panel, panel2);
      if (panel2.style.display !="none" || panel4.style.display != "none"){
        panel2.style.display="none";
        panel3.style.display="block";
        panel4.style.display="none";
      }
      else{
        panel.style.display = "none";
      }
    }
    else{
      console.log(panel, panel2);
      panel.style.display="table-row";
      panel2.style.display="none";
      panel3.style.display="block";
      panel4.style.display="none";
    }
    });
}
for (i = 0; i < addp.length; i++) {
  addp[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");
    var panel = this.parentNode.parentNode.nextElementSibling;
    var panel2=panel.childNodes[1].childNodes[1];
    var panel3=panel.childNodes[1].childNodes[3];
    var panel4=panel.childNodes[1].childNodes[5];
    if (panel.style.display === "table-row"){
        console.log(panel, panel2);
      if (panel3.style.display !="none" || panel4.style.display != "none"){
        panel2.style.display="block";
        panel3.style.display="none";
        panel4.style.display="none";
      }
      else{
        panel.style.display = "none";
      }
    }
    else{
      console.log(panel, panel2);
      panel.style.display="table-row";
      panel2.style.display="block";
      panel3.style.display="none";
      panel4.style.display="none";
    }
    });
}
for (i = 0; i < acc2.length; i++) {
  acc2[i].addEventListener("click", function() {
    this.classList.toggle("active");

    var panel2 = this.parentNode.parentNode.nextElementSibling;
    var panel3 = panel2.firstChild.nextElementSibling.childNodes[5];
    var panel4= panel2.firstChild.nextElementSibling.childNodes[1];
    var panel5= panel2.firstChild.nextElementSibling.childNodes[3];
    var panel6= panel2.firstChild.nextElementSibling.childNodes[7];
    console.log(panel2);
    if (panel2.style.display === "table-row") {
      panel2.style.display = "none";
      $('.resume-upload').style.display="none";

    } else {
      panel2.style.display = "table-row";
      panel3.style.display="block";
      panel4.style.display="none";
      panel5.style.display="none";
      panel6.style.display="none";
    }
  });
}
for (i = 0; i < acc3.length; i++) {
  acc3[i].addEventListener("click", function() {
    this.classList.toggle("active");

    var panel1 = this.parentNode.parentNode.nextElementSibling;
    var panel2= panel1.firstChild.nextElementSibling.childNodes[1];
    var panel3= panel1.firstChild.nextElementSibling.childNodes[3];
    console.log("yes");
    console.log(panel1,panel2,panel3);
    if (panel1.style.display === "table-row") {
      if (panel2.style.display == "none"){
      panel1.style.display = "none";
      }
      else{
        panel2.style.display="none";
        panel3.style.display="block";
      }
    } else {
      panel1.style.display = "table-row";
      panel3.style.display="block";
      panel2.style.display="none";
    }
  });
}
for (i = 0; i < profile.length; i++) {
  profile[i].addEventListener("click", function() {
    this.classList.toggle("active");

    var panel2 = this.parentNode.parentNode.nextElementSibling;
    var panel3 = panel2.firstChild.nextElementSibling.childNodes[5];
    var panel4= panel2.firstChild.nextElementSibling.childNodes[1];
    var panel5= panel2.firstChild.nextElementSibling.childNodes[3];
    var panel6= panel2.firstChild.nextElementSibling.childNodes[7];
    if (panel2.style.display === "table-row") {
      panel2.style.display = "none";

    } else {
      panel2.style.display = "table-row";
      panel3.style.display="none";
      panel4.style.display="block";
      panel5.style.display="none";
      panel6.style.display="none";
    }
  });
}
for (i = 0; i < btn.length; i++) {
  btn[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");

    var panel2 = this.parentNode.parentNode.nextElementSibling;
    var panel3 = panel2.firstChild.nextElementSibling.childNodes[5];
    var panel4= panel2.firstChild.nextElementSibling.childNodes[1];
    var panel5= panel2.firstChild.nextElementSibling.childNodes[3];
    var panel6= panel2.firstChild.nextElementSibling.childNodes[7];
    if (panel2.style.display === "table-row") {
      panel2.style.display = "none";

      } else {
      panel2.style.display = "table-row";
      panel3.style.display="none";
      panel4.style.display="none";
      panel5.style.display="block";
      panel6.style.display="none";
    }
  });
}
for (i = 0; i < btn2.length; i++) {
  btn2[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");

    var panel2 = this.parentNode.parentNode.nextElementSibling;
    var panel4= panel2.firstChild.nextElementSibling.childNodes[1];
    var panel5= panel2.firstChild.nextElementSibling.childNodes[3];
    console.log(panel2, panel4, panel5);
    if (panel2.style.display === "table-row") {
      if(panel4.style.display=="block"){
      panel2.style.display = "none";
      }
      else{
        panel5.style.display="none";
        panel4.style.display="block";
      }
    } else {
      panel2.style.display = "table-row";
      panel4.style.display="block";
      panel5.style.display="none";
    }
  });
}
for (i = 0; i < stage.length; i++) {
  stage[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");

    var panel2 = this.parentNode.parentNode.nextElementSibling;
    var panel3 = panel2.firstChild.nextElementSibling.childNodes[5];
    var panel4= panel2.firstChild.nextElementSibling.childNodes[1];
    var panel5= panel2.firstChild.nextElementSibling.childNodes[3];
    var panel6= panel2.firstChild.nextElementSibling.childNodes[7];
    if (panel2.style.display === "table-row") {
      panel2.style.display = "none";

    } else {
      panel2.style.display = "table-row";
      panel3.style.display="none";
      panel4.style.display="none";
      panel5.style.display="none";
      panel6.style.display="block";
    }
  });
}
for (i = 0; i < updateEvent.length; i++) {
  updateEvent[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");

    var panel2 = this.nextElementSibling.nextElementSibling.nextElementSibling;
    var panel3 = this.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling;
    var now = new Date();
    var dd = now.getDate();

    var mm = now.getMonth()+1; 
    var yyyy = now.getFullYear();
    now = mm+'-'+dd+'-'+yyyy;
    /*now.format("dd/MM/yyyy hh:mm TT");*/
    console.log(panel3)
    if(this.checked) {
            panel2.innerHTML="<b>Updated at </b>"+String(now)+"<br>";
            panel3.value=String(now);
        }
    else{
      panel2.innerHTML="";
      panel3.value="";
    }        
    });
   
}
download_button= document.getElementsByClassName("download_resume");
for (i = 0; i < download_button.length; i++) {
  download_button[i].addEventListener("click", function() {
  jsondata={"id":this.name}
  $.ajax({
      type: "POST",
      data: jsondata,
      url:"/download-resume",
      dataType: "json", 
      complete: function( response ) {
            console.log(response.responseText);
            window.open("http://127.0.0.1:5000/static/resume.pdf");
        }
        });
      });
}
function checkphone(el, el2){
  for(var i=0;i<el.length;i++){
    console.log(el2.value);
    if (el[i]==el2.value){
      alert("Phone number already exists, enter unique candidate");
    }
  }
}
$(document).ready(function() {
  console.log('yes1');
    if($("body").hasClass('inactive-theme')){
      console.log('yes');
      $("#activetable").css("display","none");
      $("#inactivetable").css("display","table");
    }
    else{
      $("#activetable").css("display","table");
      $("#inactivetable").css("display","none");
    }
});
$("#edit-activate").on("click", function() {
  var tsin_id=$("#tsinids").val();
  var snow_id=$("#snow_id").val();
  var chapter=$("#chapters").val();
  var role=$("#roles").val();
  var demand_type=$("#demandtypes").val();
  var squad=$("#squads").val();
  var tribe=$("#tribes").val();
  jsondata={
    "tsin_id":tsin_id,
    "snow_id":snow_id,
    "chapter":chapter,
    "role":role,
    "demandtype":demand_type,
    "squad":squad,
    "tribe":tribe
    };
    console.log(jsondata)
  $.ajax({
      type: "POST",
      data: jsondata,
      url:"/edit-role",
      dataType: "json", 
      complete: function( response ) {
            console.log(response.responseText);
            window.open("/");
        }
        });
      });

</script>

{% endblock content %}
